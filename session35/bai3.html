<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    .row{
        display: grid;
        grid-template-columns: repeat(6,1fr);
    }
    .formControl{
        width: 70%;
        height: 30px;
    }
    .button1{
        color: white;
        background-color: green;
        border-radius: 3px;
        border: 1px solid green;
        height: 30px;
    }
    .card{
        border: 1px solid rgb(170, 167, 167);
        margin: 6px;
    }
    .buyButton{
        color: white;
        background-color: blue;
        border-radius: 3px;
        border: 1px solid blue;
        height: 30px;
        margin: 10px;
    }
    .cardTitle{
        margin: 10px;
    }
    .cardText{
        margin: 10px;
    }
    .textPrimary{
        margin: 10px;
    }
</style>
<body>
    <div class="container">
        <input type="text" id="search" class="formControl" placeholder="Tìm kiếm sản phẩm...">
        <button class="button1">Search</button> <br>
       <br> <div class="row" id="product-list"></div>
    </div>
</body>
<script>
        const products = JSON.parse(localStorage.getItem("products")) || [
        {
            id: 1,
            name: 'Laptop Dell XPS 15',
            price: 35990000,
            image: 'https://www.laptopvip.vn/images/ab__webp/detailed/31/notebook-xps-15-9530-t-black-galle~1-sq3v-iq-www.laptopvip.vn-1683083302.webp',
            description: 'Laptop cao cấp với màn hình 15 inch, CPU Intel Core i7 và RAM 16GB.',
        },
        {
            id: 2,
            name: 'iPhone 15 Pro Max',
            price: 32990000,
            image: 'https://th.bing.com/th/id/OIP.PO8M08Vxndz_455at0qGawHaFj?rs=1&pid=ImgDetMain',
            description: 'Điện thoại flagship của Apple với camera 48MP và chip A17 Pro.',
        },
        {
            id: 3,
            name: 'Samsung Galaxy S24 Ultra',
            price: 28990000,
            image: 'https://th.bing.com/th/id/OIP.n5ZE0e4C910Ed2cLhNKjPAHaEK?rs=1&pid=ImgDetMain',
            description: 'Điện thoại Android mạnh mẽ với bút S-Pen và camera siêu zoom.',
        },
        {
            id: 4,
            name: 'Tai nghe Sony WH-1000XM5',
            price: 7990000,
            image: 'https://down-vn.img.susercontent.com/file/vn-11134207-7qukw-ljv36f0uj8xuaf',
            description: 'Tai nghe chống ồn tốt nhất với thời lượng pin lên đến 30 giờ.',
        },
        {
            id: 5,
            name: 'Apple Watch Series 9',
            price: 11990000,
            image: 'https://bgr.com/wp-content/uploads/2023/09/Apple-Watch-Series-9.jpg?quality=82&strip=all',
            description: 'Đồng hồ thông minh cao cấp với tính năng đo nhịp tim và hỗ trợ thể thao.',
        },
        {
            id: 6,
            name: 'Loa JBL Charge 5',
            price: 3990000,
            image: 'https://cdn.tgdd.vn/Products/Images/2162/251230/bluetooth-jbl-charge-5-1-750x500.jpg',
            description: 'Loa Bluetooth chống nước với âm bass mạnh mẽ và pin 20 giờ.',
        }
    ];

    function renderProducts(filter = "") {
            const productList = document.getElementById("product-list");
            localStorage.setItem("products",JSON.stringify(products));
            productList.innerHTML = "";
            
            const filteredProducts = products.filter(p => p.name.toLowerCase().includes(filter.toLowerCase()));
            
            filteredProducts.forEach(product => {
                const productCard = `
                    <div>
                        <div class="card">
                            <img src="${product.image}" class="card-img-top"  width="300px" height="300px">
                            <div class="card-body">
                                <h5 class="cardTitle">${product.name}</h5>
                                <p class="cardText">${product.description}</p>
                                <p class="textPrimary">${product.price.toLocaleString()} VND</p>
                                <button class="buyButton">Buy</button>
                            </div>
                        </div>
                    </div>
                `;
                productList.innerHTML += productCard;
            });
        }

        document.getElementById("search").addEventListener("input", (event) => {
            renderProducts(event.target.value); //siêu quan trọng
        });


        renderProducts();
    </script>
</html>